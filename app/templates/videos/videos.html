{% extends 'base.html' %}


{% block title %}
{% endblock %}

{%block content%}

{%if filename %}
<div  class="h-1/2 m-4 flex flex-row text-white">
	<div class="w-auto ">
		<video controls="controls"  id="vid" class="h-3/4 px-8">
			<source src="{{ url_for('static',filename='uploads/'+filename) }}" type="video/mp4" id="src"></source>
		</video>
		<div class="w-20 text-center rounded-md bg-teal-500">
			<button class="text-white" onclick="getTime()">Inspect</button>
		</div>
	</div>
	<div class="bg-white pl-8 w-1/3">
			<h2 class="text-black">hello</h2>
	</div>
</div>
		<script>
			function getTime()
			{
				let video=document.getElementById("vid")
				let frameNumber=Math.floor(parseFloat(video.currentTime,10)*24);
				$(document).ready(function(){
					$.ajax({
					  type : 'POST',
					  url : "{{url_for('videos.display_video',filename=filename )}}",
					  data : {'data':frameNumber}
					});
					 });
			}
		</script>
{%endif%}

    
	<div class="flex flex-col mx-auto gap-4 h-auto">
		{% for i in files %}
		   <div class="w-1/3 bg-teal-400 p-2 font-bold"><a class="text-white " href="{{url_for('videos.display_video',filename=i )}}">{{i}}</a></div>
		{% endfor %}
		</div>
{%endblock%}